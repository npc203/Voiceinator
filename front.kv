#:kivy 2.0.0
#: import HtmlLexer pygments.lexers.html.HtmlLexer

<MainScreen>:
    name:"main_scr"

<WorkFlowScreen>:
    name: "work_scr"

    BoxLayout:
        orientation: "vertical"
        TopBar:
            title:"WorkFlow Screen"
            left_action_items: [["arrow-left", lambda x: self.back()]]

        BoxLayout:
            CodeInput:
                lexer:HtmlLexer()

    MDBottomAppBar:
        BottomBar:
            id: "bottom_nav"
            on_action_button: self.record()
            title: "This is where the speech goes into"
            type: "bottom"
            mode: "end"

<TopBar>:
    id: toolbar
    pos_hint: {"top": 1}
    elevation: 10
    title: "VoiceInator"
    right_action_items: [["moon-waning-crescent", lambda x: app.theme_switch()]]


<MainGrid>:
    grid: grid
    effect_cls: "DampedScrollEffect"
    pos_hint: {"center_y": 0.38}
    GridLayout:
        id: grid
        size_hint_y: None
        height: self.minimum_height
        width: self.minimum_width
        cols: 3
        spacing: 10, 10
        padding: 10

<Card>:
    orientation: "vertical"
    size_hint: .3, None
    elevation: 10
    height: text_box.height*2+ box_bottom.height
    focus_behavior: True
    ripple_behavior: True

    
    FitImage:
        source: "assets/banner.jpg"
        size_hint: 1, None
        height: text_box.height

    MDBoxLayout:
        id: text_box
        orientation: "vertical"
        adaptive_height: True
        height: "100dp"
        spacing: "10dp"
        padding: "10dp", "10dp", "10dp", "10dp"

        MDLabel:
            text: root.title
            theme_text_color: "Primary"
            font_style: "H5"
            bold: True
            adaptive_height: True

        MDLabel:
            text: root.description
            adaptive_height: True
            theme_text_color: "Primary"

    MDSeparator:

    MDBoxLayout:
        id: box_bottom
        adaptive_height: True
        padding: "10dp", 0, 0, 0

        MDLabel:
            text: "Open Project"
            adaptive_height: True
            pos_hint: {"center_y": .5}
            theme_text_color: "Primary"

        MDIconButton:
            icon: "cloud-download"